@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Color scheme inspired by taniarascia.com */
  :root {
    --color-bg: #fdf9ee;
    --color-bg-secondary: #f6f0df;
    --color-text: #323239;
    --color-text-secondary: #6b6b76;
    --color-link: #d33682;
    --color-link-hover: #b02a6b;
    --color-border: #e5dcbd;
  }

  .dark {
    --color-bg: #1c1c20;
    --color-bg-secondary: #25252b;
    --color-text: #c8c8cf;
    --color-text-secondary: #9090a0;
    --color-link: #ff8ac1;
    --color-link-hover: #ffadd4;
    --color-border: #323239;
  }

  /* Apply custom colors to body */
  body {
    background-color: var(--color-bg);
    color: var(--color-text);
  }

  /* Tag/label styling for manifest */
  .tag {
    display: inline-flex;
    align-items: center;
    height: 1.5rem;
    padding: 0 0.5rem 0 0.5rem;
    background-color: var(--color-bg-secondary);
    color: var(--color-text);
    text-decoration: none !important;
    font-family: 'Courier New', Courier, monospace;
    font-size: 0.8rem;
    border-radius: 0 0.5rem 0.5rem 0;
    border: 1px solid var(--color-border);
    border-left: none;
    position: relative;
    margin-left: 0.7rem;
    transition: transform 0.15s ease, filter 0.15s ease;
  }
  /* Angled left edge */
  .tag::before {
    content: '';
    position: absolute;
    left: -0.7rem;
    top: -1px;
    width: 0;
    height: 0;
    border-top: calc(0.75rem + 1px) solid transparent;
    border-bottom: calc(0.75rem + 1px) solid transparent;
    border-right: 0.7rem solid var(--color-bg-secondary);
    filter: drop-shadow(-1px 0 0 var(--color-border)) drop-shadow(0 -1px 0 var(--color-border)) drop-shadow(0 1px 0 var(--color-border));
  }
  .tag:hover, .tag:hover::before {
    text-decoration: none !important;
  }
  .tag:hover {
    transform: scale(1.08);
    filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.15));
  }
  .dark .tag {
    border-color: var(--color-link);
  }
  .dark .tag::before {
    filter: drop-shadow(-1px 0 0 var(--color-link)) drop-shadow(0 -1px 0 var(--color-link)) drop-shadow(0 1px 0 var(--color-link));
  }
  .dark .tag:hover {
    transform: scale(1.08);
    filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.4));
  }
  .dark .tag:hover::before {
    filter: drop-shadow(-1px 0 0 var(--color-link)) drop-shadow(0 -1px 0 var(--color-link)) drop-shadow(0 1px 0 var(--color-link));
  }

  /* Set up some default image behavior for nicer images */
  img {
    @apply w-auto shadow-md border-2 border-transparent;
  }
  img:hover {
    border-color: var(--color-border);
  }

  /* Overrides for Tailwind Typography prose class */
  .prose {
    color: var(--color-text);
  }
  .prose a {
    color: var(--color-link);
    text-decoration: none;
  }
  .prose a:hover {
    color: var(--color-link-hover);
    text-decoration: underline;
    text-decoration-thickness: 2px;
  }
  .prose h1, .prose h2, .prose h3, .prose h4, .prose h5, .prose h6, .prose hr, .prose strong {
    color: var(--color-text);
  }
  .prose h2, .prose h3, .prose h4, .prose h5, .prose h6 {
    scroll-margin-top: 3.5em;
  }
  .prose pre code {
    @apply overflow-x-auto;
  }
  .prose .footer-nav a {
    @apply no-underline;
  }
  .prose ul.contains-task-list,
  .prose ul.spacelog  {
    @apply list-none -ml-6;
  }
  .prose ul.contains-task-list .task-list-item::before,
  .prose ul.spacelog::before {
    @apply hidden;
  }

  /* Define blockquotes and some standard callout blocks */
  blockquote {
    background-color: var(--color-bg-secondary);
    border-color: var(--color-border);
    @apply rounded-lg p-4 border-l-8;
  }
  .callout {
    @apply px-8 py-4 mb-4 rounded-lg;
    background-color: var(--color-bg-secondary);
  }
  .callout-blue {
    @apply px-8 py-4 mb-4 rounded-lg bg-blue-50;
  }
  .callout-blue, .callout-blue strong, .callout-blue em {
    @apply dark:text-gray-200 dark:bg-blue-900;
  }
  .callout-pink {
    @apply px-8 py-4 mb-4 rounded-lg bg-pink-50;
  }
  .callout-pink, .callout-pink strong, .callout-pink em {
    @apply dark:text-gray-200 dark:bg-pink-900;
  }
  .callout-green {
    @apply px-8 py-4 mb-4 rounded-lg bg-green-50;
  }
  .callout-green, .callout-green strong, .callout-green em {
    @apply dark:text-gray-200 dark:bg-green-900;
  }
  .warning {
    @apply px-8 py-4 mb-4 rounded-lg bg-red-800 text-gray-50;
  }
  .warning, .warning strong, .warning em {
    @apply text-gray-50 dark:bg-red-900 dark:text-gray-200;
  }

  /* Overrides for nav/Table of Contents block */
  nav ul {
    @apply ml-0;
    color: var(--color-text-secondary);
    font-family: 'Courier New', Courier, monospace;
   }
  nav ul ul {
    @apply ml-6;
    color: var(--color-text-secondary);
  }
  nav ul li a {
    @apply mb-1 pt-2 pr-4 pb-1 pl-2 w-full block;
    color: var(--color-text-secondary);
  }
  nav ul li a:hover {
    color: var(--color-text);
  }
  nav ul li a.active {
    @apply font-semibold;
    color: var(--color-text);
  }
  nav.toc ol li {
    @apply pt-2;
  }
  nav.toc ol li li {
    @apply pt-2 ml-4
  }
  nav.toc ol li a {
    color: var(--color-text-secondary);
  }
  nav.toc ol li a:hover {
    color: var(--color-text);
  }
  .prose .footer-nav a:hover {
    color: var(--color-link-hover);
  }

  /* Utilities and misc */
  .adjust p img, .adjust img, .adjust p iframe, .adjust iframe, .twitter-tweet {
    @apply shadow-md ml-auto mr-auto p-2;
  }
  .adjust p img:hover, .adjust img:hover {
    @apply shadow-xl
  }
  .adjust img.button {
    @apply w-auto shadow-none;
  }
  .text-align-center {
    @apply flex justify-center;
  }
  .icon-spacer {
    width: "24px";
  }
  input {
    color: var(--color-text);
    background-color: var(--color-bg-secondary);
  }

  /* Links outside of prose */
  a {
    color: var(--color-link);
  }
  a:hover {
    color: var(--color-link-hover);
  }
}
