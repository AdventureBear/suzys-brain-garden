# Todo List: Improve Writing Prompt Tool UX

**Issue**: #5 - Improve Prompt Tool UX
**Status**: Planning
**Last Updated**: 2025-12-30

## Planning Phase

- [x] Create feature branch `5-improve-prompt-tool-ux`
- [x] Create issue folder in `docs/issues/`
- [x] Create plan.md
- [x] Create todo.md
- [x] Create implementation-summary.md template
- [ ] Get approval to proceed

## Implementation Phase

### 1. HTML Updates (index.html)

- [ ] Add title input field below prompt display
- [ ] Add tags input field near folder selection
- [ ] Update form layout/order
- [ ] Add placeholder text for new fields
- [ ] Style new fields consistently

### 2. Alpine.js Logic (app.js) - Title Management

- [ ] Add `customTitle` state variable
- [ ] Add `autoGeneratedTitle` state variable
- [ ] Implement `generateTitleFromContent()` function
- [ ] Update title when content changes (debounced)
- [ ] Allow manual title editing
- [ ] Default to auto-generated if empty

### 3. Alpine.js Logic (app.js) - Tags Management

- [ ] Add `customTags` state variable
- [ ] Add `folderTags` state variable
- [ ] Create `loadFolderTags()` function
- [ ] Call loadFolderTags when folder selected
- [ ] Parse custom tags (comma-separated)
- [ ] Merge folder tags + custom tags
- [ ] Display combined tags

### 4. Alpine.js Logic (app.js) - Slug Generation

- [ ] Update `generateSlug()` to use title (not prompt)
- [ ] Limit slug to first 5 words
- [ ] Remove date prefix from filename
- [ ] Generate clean slug from title

### 5. Server Updates (server.js) - New Endpoint

- [ ] Create `/api/folder-tags` GET endpoint
- [ ] Read folder .json file
- [ ] Parse and return tags array
- [ ] Handle missing .json files gracefully
- [ ] Return empty array if no tags found

### 6. Server Updates (server.js) - File Generation

- [ ] Update `generateFilename()` - remove date prefix
- [ ] Update `generateSlug()` - use title, limit to 5 words
- [ ] Update `generateFrontmatter()` - use custom title
- [ ] Add permalink generation
- [ ] Support custom tags array
- [ ] Keep prompt at bottom of file

### 7. Create Folder JSON Files

- [ ] Create `content/writing/thoughts/thoughts.json`
- [ ] Create `content/writing/medical/medical.json`
- [ ] Create `content/writing/coding/coding.json`
- [ ] Create `content/writing/coaching/coaching.json`
- [ ] Add appropriate default tags to each

### 8. Testing - Title Functionality

- [ ] Test auto-title generation from content
- [ ] Test manual title override
- [ ] Test empty content (no title generated)
- [ ] Test very long first line
- [ ] Test content with less than 5 words

### 9. Testing - Filename & Slug

- [ ] Verify no date prefix in filename
- [ ] Verify slug limited to 5 words
- [ ] Test long titles (>5 words)
- [ ] Test short titles (<5 words)
- [ ] Check for special characters in slug

### 10. Testing - Tags

- [ ] Test folder with .json file (tags auto-populate)
- [ ] Test folder without .json file (graceful fallback)
- [ ] Test adding custom tags
- [ ] Test tags in saved frontmatter
- [ ] Verify tag format is array

### 11. Testing - Permalink

- [ ] Verify permalink in frontmatter
- [ ] Test permalink format
- [ ] Ensure no date in permalink
- [ ] Check permalink matches filename

### 12. Testing - Integration

- [ ] Full workflow: write, auto-title, select folder, add tags, save
- [ ] Verify saved file structure
- [ ] Check frontmatter is correct
- [ ] Ensure prompt appears at bottom
- [ ] Test with existing features (search, preview, favorites)

### 13. Edge Cases

- [ ] Test duplicate filenames (conflict resolution)
- [ ] Test empty title field on save
- [ ] Test special characters in title
- [ ] Test very short content (<5 words total)
- [ ] Test markdown in title (should be plain text)

### 14. UI/UX Polish

- [ ] Add helpful labels/hints
- [ ] Show auto-generated title clearly
- [ ] Indicate which tags are from folder vs custom
- [ ] Update instructions section
- [ ] Add tooltips if helpful

### 15. Documentation

- [ ] Update tool README.md
- [ ] Document folder .json format
- [ ] Update implementation-summary.md
- [ ] Add examples of usage

### 16. Final Review

- [ ] Code review (self)
- [ ] Test all scenarios
- [ ] Verify no breaking changes
- [ ] Update plan.md if needed

### 17. Deployment

- [ ] Stage all changes
- [ ] Write commit message
- [ ] Commit changes
- [ ] Push branch to remote
- [ ] Create pull request
- [ ] Add PR description

## Notes

- Keep form simple and clean
- Auto-generation should feel helpful, not intrusive
- Tags should be easy to understand and modify
- Backwards compatibility is important

## Blockers

None identified yet.

## Questions

- [x] Should title be required or optional? (Optional, auto-generate)
- [x] How to handle filename conflicts? (Accept for now, can enhance later)
- [ ] Default tags if no folder .json? (Use generic "writing", "prompt-response")
- [ ] Should we validate slug uniqueness? (Not initially)
