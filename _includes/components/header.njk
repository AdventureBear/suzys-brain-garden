<div class="fixed w-full top-0 left-0 z-10">
    <nav class="flex h-16 md:h-20 items-center z-20 fixed top-0 left-0 right-0 px-4 md:px-8 py-2 transition-colors duration-200" style="background-color: var(--color-bg); border-bottom: 1px solid var(--color-border);">
      <div class="hidden md:block space-y-4 w-full p-4">
        <a class="no-underline font-bold items-center" href="/" style="color: var(--color-text);">
          <span class="text-xl">{{ site.name }}</span>
          {% if site.subtitle %}
          <span class="block mt-1 font-normal text-xs sm:text-xs md:text-sm lg:text-sm w-full" style="color: var(--color-text-secondary);"> {{ site.subtitle }}</span>
          {% endif %}
         </a>
      </div>
      <div class="mr-2 relative w-full md:w-64">
       {% if site.enableSearch == 1 %}
        <input aria-label="Search" x-data="{ isOpen: true }" x-bind:class="{ 'hidden': !isOpen }" type="search" placeholder="Search..." class="ml-2 w-60 appearance-none rounded py-2 px-2 leading-tight focus:ring-4 focus:ring-opacity-50" style="background-color: var(--color-bg-secondary); border: 1px solid var(--color-border); color: var(--color-text);" id="searchField">
        <ul tabindex="0" class="z-50 shadow-md p-0 w-full list-none m-0 absolute left-0 md:right-0 rounded mt-1 top-100 z-50" style="background-color: var(--color-bg);" id="searchResults"></ul>
        <div class="hidden shadow-md list-none p-4 m-0 absolute left-0 md:right-0 rounded mt-1 top-100 z-2" style="background-color: var(--color-bg); border: 1px solid var(--color-border);" id="noResultsFound">
          <p>No results found.</p>
        </div>
        {% endif %}
      </div>

      <button aria-label="Show navigation" onclick="showNavigation()" class="block md:hidden mr-3"><svg fill="none" width="24" height="24" viewBox="0 0 24 24" style="color: var(--color-text-secondary);" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button>

      {% if site.enableDarkMode == 1 %}
      <button aria-label="Toggle dark mode" class="mr-3 switch cursor-pointer group" onclick="activateDarkMode()">
        <!-- Sun icon (visible in dark mode) -->
        <svg class="hidden dark:block w-6 h-6 group-hover:text-yellow-400 transition-colors" style="color: var(--color-text-secondary);" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
        </svg>
        <!-- Moon icon (visible in light mode) -->
        <svg class="block dark:hidden w-6 h-6 group-hover:text-yellow-400 transition-colors" style="color: var(--color-text-secondary);" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
        </svg>
      </button>
      {% endif %}

      {% if site.enabledEncryption == 1 %}
        <button aria-label="Logout" onclick="logout()" class="block mr-3">
        <svg width="24" height="24" xmlns='http://www.w3.org/2000/svg' class='ionicon hover:text-red-800' style="color: var(--color-text-secondary);" viewBox='0 0 512 512'><title>Close Circle</title><path d='M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z' fill='none' stroke='currentColor' stroke-miterlimit='10' stroke-width='32'/><path fill='none' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='32' d='M320 320L192 192M192 320l128-128'/></svg>
        </button>
      {% endif %}
    </nav>
    {% if site.navigationStyle == 'horizontal' %}
      <div class="mt-20">
      {% include "components/nav.njk" %}
      </div>
    {% endif %}
 </div>
